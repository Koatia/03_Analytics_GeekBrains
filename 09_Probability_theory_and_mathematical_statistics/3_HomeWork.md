### [Урок 3. EDA (exploratory data analysis) или Разведочный анализ](https://gb.ru/lessons/447655/homework)

#### Задание 1

Даны значения зарплат из выборки выпускников: 100, 80, 75, 77, 89, 33, 45, 25, 65, 17, 30, 24, 57, 55, 70, 75, 65, 84, 90, 150. Посчитать (желательно без использования статистических методов наподобие std, var, mean) среднее арифметическое, среднее квадратичное отклонение, смещенную и несмещенную оценки дисперсий для данной выборки.

_1. Среднее арифметическое (Mean)_

> Количество значений $(n) = 20$

> Вычислим сумму всех значений:
>
> $\sum_{i=1}^n(x_i)=1306$

> Среднее арифметическое:
> $\overline {x} = \frac {1306}{20} = 65.3$

_Оценка дисперсий_

> Дисперсия показывает, насколько значения разбросаны вокруг среднего.

_2. Смещенная оценка дисперсии (среднее квадратичное отклонение в квадрате):_

> $\sigma_b^2 = \frac {∑_{i=1}^n(x_i−\overline {x})^2}{n}; \quad \sigma^2=950.11$

_3. Несмещенная оценка дисперсии:_

> $\sigma_u^2 = \frac {∑_{i=1}^n(x_i−\overline {x})^2}{n-1}; \quad \sigma^2=1000,12$$

_4. Среднее квадратичное отклонение (Standard Deviation)_

Среднее квадратичное отклонение является квадратным корнем из дисперсии.

> Смещенное среднее квадратичное отклонение:
>
> $\sigma_b = \sqrt{\sigma_b^2}; \quad \sigma_b=\sqrt{950.11}=30.82$

> Несмещенное среднее квадратичное отклонение:
>
> $\sigma_u = \sqrt{\sigma_u^2}; \quad \sigma_u = \sqrt{1000.12}=31.62$

#### Задание 2

В первом ящике находится 8 мячей, из которых 5 - белые. Во втором ящике - 12 мячей, из которых 5 белых. Из первого ящика вытаскивают случайным образом два мяча, из второго - 4. Какова вероятность того, что 3 мяча белые?

> Возможные варианты:
>
> - 2 белых мяча из первого ящика и 1 белый мяч из второго ящика.
> - 1 белый мяч из первого ящика и 2 белых мяча из второго ящика.
> - 0 белых мячей из первого ящика и 3 белых мяча из второго ящика.

| Вариант | Первый ящик | Второй ящик |
| ------- | ----------- | ----------- |
| 1       | ББ          | БЧЧЧ        |
| 2       | БЧ          | ББЧЧ        |
| 3       | ЧЧ          | БББЧ        |

> P(ровно 3 белых) = P(случай 1) + P(случай 2) + P(случай 3)
>
> P(ровно 3 белых) $= \frac {C^2_5 × C^0_3}{C^2_8}×\frac {C^1_5 × C^3_7}{C^4_{12}} + \frac{C^1_5 × C^1_3}{C^2_8}×\frac{C^2_5 × C^2_7}{C^4_{12}} + \frac {C^0_5 × C^2_3}{C^2_8}×\frac {C^3_5 × C^1_7}{C^4_{12}}$

> P(ровно 3 белых) = $\frac {73}{198} ≈ 0.3687$

#### Задание 3

На соревновании по биатлону один из трех спортсменов стреляет и попадает в мишень. Вероятность попадания для первого спортсмена равна 0.9, для второго — 0.8, для третьего — 0.6. Найти вероятность того, что выстрел произведен:
a). первым спортсменом
б). вторым спортсменом
в). третьим спортсменом.

> Для решения этой задачи используем теорему Байеса. Обозначим события следующим образом:
> $A_1$ — выстрел производит первый спортсмен.
> $A_2$ — выстрел производит второй спортсмен.
> $A_3$ — выстрел производит третий спортсмен.
> $B$ — событие, что выстрел попадает в мишень.

> Нам известны априорные вероятности событий $A_1$, $A_2$ и $A_3$,
> а также условные вероятности $P(B|A_1)$, $P(B|A_2)$ и $P(B|A_3)$:
>
> $P(A_1) = P(A_2) = P(A_3) = \frac{1}{3}$
>
> $P(B|A_1) = 0.9$
>
> $P(B|A_2) = 0.8$
>
> $P(B|A_3) = 0.6$

> _найдем полную вероятность попадания в мишень:_
>
> $P(B) = P(B|A_1)P(A_1) + P(B|A_2)P(A_2) + P(B|A_3)P(A_3)$

> $P(B) = (0.9 \times \frac{1}{3}) + (0.8 \times \frac{1}{3}) + (0.6 \times \frac{1}{3}) = 0.7677$

> _используя теорему Байеса, найдем апостериорные вероятности_ > $P(A_1|B)$, $P(A_2|B)$ и $P(A_3|B)$:

> Вероятность того, что выстрел произведен первым спортсменом:
>
> $P(A_1|B) = \frac{P(B|A_1)P(A_1)}{P(B)}$
>
> $P(A_1|B) = \frac{0.9 \times \frac{1}{3}}{0.7677} \approx 0.3913$

> Вероятность того, что выстрел произведен вторым спортсменом:
>
> $P(A_2|B) = \frac{P(B|A_2)P(A_2)}{P(B)}$
>
> $P(A_2|B) = \frac{0.8 \times \frac{1}{3}}{0.7677} \approx 0.3478$

> Вероятность того, что выстрел произведен третьим спортсменом:
>
> $P(A_3|B) = \frac{P(B|A_3)P(A_3)}{P(B)}$
>
> $P(A_3|B) = \frac{0.6 \times \frac{1}{3}}{0.7677} \approx 0.2609$

#### Задание 4

В университет на факультеты A и B поступило равное количество студентов, а на факультет C студентов поступило столько же, сколько на A и B вместе. Вероятность того, что студент факультета A сдаст первую сессию, равна 0.8. Для студента факультета B эта вероятность равна 0.7, а для студента факультета C - 0.9. Студент сдал первую сессию. Какова вероятность, что он учится: a). на факультете A б). на факультете B в). на факультете C?

> Для решения этой задачи используем теорему Байеса. Обозначим события следующим образом:
> $A$ — студент учится на факультете A,
> $B$ — студент учится на факультете B,
> $C$ — студент учится на факультете C,
> $S$ — студент сдал первую сессию.

> Дано:
> Вероятность того, что студент сдаст первую сессию, если он учится на факультете A: $P(S|A) = 0.8$,
>
> Вероятность того, что студент сдаст первую сессию, если он учится на факультете B: $P(S|B) = 0.7$,
>
> Вероятность того, что студент сдаст первую сессию, если он учится на факультете C: $P(S|C) = 0.9$,
>
> Вероятности того, что студент учится на факультетах A, B, и C: $P(A)$, $P(B)$, $P(C)$.

**_Вероятности поступления_**

> Пусть на факультет A и B поступило по $x$ студентов, тогда на факультет C поступило $2x$ студентов:

> Вероятность того, что случайно выбранный студент учится на факультете A: $P(A) = \frac{x}{4x} = \frac{1}{4}$,
>
> Вероятность того, что случайно выбранный студент учится на факультете B: $P(B) = \frac{x}{4x} = \frac{1}{4}$,
>
> Вероятность того, что случайно выбранный студент учится на факультете C: $P(C) = \frac{2x}{4x} = \frac{1}{2}$.

**_Общая вероятность сдачи сессии $P(S)$_**

> По формуле полной вероятности:
> $P(S) = P(S|A)P(A) + P(S|B)P(B) + P(S|C)P(C)$
>
> $P(S) = (0.8 \cdot \frac{1}{4}) + (0.7 \cdot \frac{1}{4}) + (0.9 \cdot \frac{1}{2}) = 0.825$

**_Вероятность того, что студент учится на факультете A, если он сдал первую сессию $P(A|S)$_**

> По теореме Байеса: $P(A|S) = \frac{P(S|A)P(A)}{P(S)}$
>
> $P(A|S) = \frac{0.8 \cdot \frac{1}{4}}{0.825} = \frac{0.2}{0.825} \approx 0.2424$

**_Вероятность того, что студент учится на факультете B, если он сдал первую сессию $P(B|S)$_**

> $P(B|S) = \frac{P(S|B)P(B)}{P(S)} = \frac{0.7 \cdot \frac{1}{4}}{0.825} = \frac{0.175}{0.825} \approx 0.2121$

**_Вероятность того, что студент учится на факультете C, если он сдал первую сессию $P(C|S)$_**

> $P(C|S) = \frac{P(S|C)P(C)}{P(S)} = \frac{0.9 \cdot \frac{1}{2}}{0.825} = \frac{0.45}{0.825} \approx 0.5455$

#### Задание 5

Устройство состоит из трех деталей. Для первой детали вероятность выйти из строя в первый месяц равна 0.1, для второй - 0.2, для третьей - 0.25. Какова вероятность того, что в первый месяц выйдут из строя: а). все детали б). только две детали в). хотя бы одна деталь г). от одной до двух деталей?

> Обозначения
>
> $A$ — первая деталь вышла из строя в первый месяц (вероятность $P(A) = 0.1$),
>
> $B$ — вторая деталь вышла из строя в первый месяц (вероятность $P(B) = 0.2$),
>
> $C$ — третья деталь вышла из строя в первый месяц (вероятность $P(C) = 0.25$).

_Задача (а): Вероятность того, что выйдут из строя все детали_

> Вероятность того, что все три детали выйдут из строя, можно найти, умножив вероятности для каждой детали (так как события независимы):
>
> $P(A \cap B \cap C) = P(A) \cdot P(B) \cdot P(C) = 0.1 \cdot 0.2 \cdot 0.25 = 0.005$

_Задача (б): Вероятность того, что выйдут из строя только две детали_

> Для этого нужно рассмотреть все возможные комбинации выхода из строя двух деталей:
>
> 1. Вышли из строя первая и вторая детали, а третья осталась исправной:
>
> $P(A \cap B \cap \neg C) = P(A) \cdot P(B) \cdot (1 - P(C)) = 0.1 \cdot 0.2 \cdot 0.75 = 0.015$
>
> 2. Вышли из строя первая и третья детали, а вторая осталась исправной:
>
> $P(A \cap \neg B \cap C) = P(A) \cdot (1 - P(B)) \cdot P(C) = 0.1 \cdot 0.8 \cdot 0.25 = 0.02$
>
> 3. Вышли из строя вторая и третья детали, а первая осталась исправной:
>
> $P(\neg A \cap B \cap C) = (1 - P(A)) \cdot P(B) \cdot P(C) = 0.9 \cdot 0.2 \cdot 0.25 = 0.045$
>
> Теперь суммируем эти вероятности:
>
> $P(\text{ровно 2 из 3}) = 0.015 + 0.02 + 0.045 = 0.08$

_Задача (в): Вероятность того, что выйдет из строя хотя бы одна деталь_

> Эту вероятность удобнее всего найти через противоположное событие — что ни одна деталь не выйдет из строя:
>
> $P(\text{ни одна не выйдет из строя}) = (1 - P(A)) \cdot (1 - P(B)) \cdot (1 - P(C)) = 0.9 \cdot 0.8 \cdot 0.75 = 0.54$

> Тогда вероятность того, что выйдет из строя хотя бы одна деталь:
>
> $P(\text{хотя бы одна выйдет из строя}) = 1 - P(\text{ни одна не выйдет из строя}) = 1 - 0.54 = 0.46$

_Задача (г): Вероятность того, что выйдет из строя от одной до двух деталей_

> Для этого нужно рассмотреть случаи, когда выйдет из строя одна деталь и когда выйдут из строя две детали. Мы уже нашли вероятность для двух деталей.

> Вероятность того, что выйдет из строя ровно одна деталь:
>
> - Вышла из строя первая деталь, а остальные остались исправными:
>
>   $P(A \cap \neg B \cap \neg C) = P(A) \cdot (1 - P(B)) \cdot (1 - P(C)) = 0.1 \cdot 0.8 \cdot 0.75 = 0.06$
>
> - Вышла из строя вторая деталь, а остальные остались исправными:
>
>   $P(\neg A \cap B \cap \neg C) = (1 - P(A)) \cdot P(B) \cdot (1 - P(C)) = 0.9 \cdot 0.2 \cdot 0.75 = 0.135$
>
> - Вышла из строя третья деталь, а остальные остались исправными:
>
>   $P(\neg A \cap \neg B \cap C) = (1 - P(A)) \cdot (1 - P(B)) \cdot P(C) = 0.9 \cdot 0.8 \cdot 0.25 = 0.18$
>
> Теперь суммируем эти вероятности:
>
> $P(\text{ровно 1 из 3}) = 0.06 + 0.135 + 0.18 = 0.375$

> Вероятность того, что выйдут из строя от одной до двух деталей:
>
> $P(\text{от одной до двух из 3}) = P(\text{ровно 1 из 3}) + P(\text{ровно 2 из 3})$
>
> $P(\text{от одной до двух из 3}) = 0.375 + 0.08 = 0.455$
